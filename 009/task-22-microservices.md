## Микросервисы
### Задание:

Создано приложение COUNTER:
* обрабатывающее два роута:
    - увеличить счётчик `POST /counter/:bookId/incr`;
    - получить значение счётчика `GET /counter/:bookId` — приложение контейнеризировано.
* за хранение значения счётчика отвечает отдельное приложение,
* данные счётчика хранятся на диске и переживают рестарт приложения или контейнера

В приложении LIBRARY:
* увеличение счётчика при просмотре книги,
* отображение значения счётчика;

* Создан docker-compose.yml, запуск которого поднимает оба приложения и позволяет продемонстрировать работу счётчика.
В исходном коде приложения должен появиться docker-compose.yml.




### Решение:

В приложении 3 сервиса: 
* `redis` отвечает за хранение и 
* `counter` реализует функцию счётчика просмотров 
* `library` приложение приедоставления данных, визуальный интерфейс взаимодействия с пользователем

* docker-compose.dev.yml - для разработки и отладки.


* docker-compose.build.yml - Для сервисов `counter` и `library`: 
    * вместо `image: node:22.5` указывается команда `build: ./counter`/ `build: ./library` для сборки уже из docker образов
    * удаляются комнды `working_dir`(имя рабочей директории), `volumes`(тома) и `command: npm run dev`(команда для старта приложения) т.к. эти инструкции для сборки указаны в файлах Dockerfile.


* docker-compose.yml - продуктивная сборка.
    * создаётся на основе готовых опубликованных на docker hub образов.
      - На docker hub создется репозиторий - `demon62/hw009-views_counter`.
      - Локальным образам задаётся соответсвующий тэг: 
```
docker tag 009-counter:latest demon62/hw009-views_counter:counter-v1.0.0
docker tag 009-library:latest demon62/hw009-views_counter:library-v2.0.0
```

      - Публикация на docker hub: 
```
docker push demon62/hw009-views_counter:counter-v1.0.0
docker push demon62/hw009-views_counter:library-v2.0.0
```

Полученный репозиторий на docker hub: 
https://hub.docker.com/repository/docker/demon62/hw009-views_counter/general


### Тест:

Запустив, командой `docker compose up` из директории проекта, файл со стандартизированным названием docker-compose.yml, с docker hub скачиваются в нём образы, создаётся контейнер и запускается.
Затем, набрав в браузере http://localhost/index можно открыть приложение. Нажав на кнопук просмотра среди полей описания книги можно увидеть поле "кол-во просмотров", которое будет увеличиваться при каждом обновлении страницы. Каждой книге будет соответствовать своё значение.
Затем, можно перезагрузить контейнер, чтобы проверить что данные не теряются после перезагрузки.